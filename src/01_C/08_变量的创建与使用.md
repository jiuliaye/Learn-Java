### 变量的使用

变量就像数学中的`x`，`y`一样，可以直接声明一个变量，并利用这些变量进行基本的运算，声明变量的格式为：

```c
数据类型 变量名称 = 初始值;    //其中初始值可以不用在定义变量时设定
// = 是赋值操作，可以将等号后面的值赋值给前面的变量，等号后面可以直接写一个数字（常量）、变量名称、算式
```

如现在想要声明一个整数类型的变量：

```java
int a = 10;   //变量类型为int（常用），变量名称为a，变量的初始值为10
int a = 10, b = 20;   //多个变量可以另起一行编写，也可以用逗号隔开，注意类型必须是一样的
```

其中，变量的名称并不是随便的，它有以下规则：

- 不能重复使用其他变量使用过的名字。
- 只能包含英文字母、下划线、数字，并且严格区分大小写，比如`a`和`A`不算同一个变量。
- 虽然可以包含数字，但是不能以数字开头。
- 不能是关键字（如上面提到的所有基本数据类型）
- **（建议）**使用英文单词，不要使用拼音，多个词可以使用驼峰命名法（第二个单词开头用大写）或是通过下划线连接。

初始值可以是一个常量数据（比如10、0.5）也可以是其他变量，或是运算表达式的结果。

可以使用变量来做一些基本的运算：

```c
#include <stdio.h>

int main() {
    int a = 10;  //将10作为a的值
    int b = 20;
    int c = a + b;   //注意变量一定要先声明再使用，这里是计算a + b的结果（算式），并作为c的初始值
}
```

这里使用到了`+`运算符，这个运算符其实就是数学中的加法运算，会将左右两边的变量值加起来，得到结果。

虽然做了运算，但是还不知道运算的具体结果是什么，所以这里通过前面认识的`printf`函数来将结果打印到控制台：

```c
#include <stdio.h>

int main() {
    int a = 10;
    int b = 20;
    int c = a + b;

    printf(c);   //直接打印变量c
}
```

但是这样似乎运行不出来结果，实际上`printf`是用于格式化打印的，需要使用占位符：

```c
printf("c的结果是：%d", );   //使用%d来代表一个整数类型的数据（占位符），在打印时会自动将c的值替换上去
```

 除了使用`%d`打印有符号整数之外，还有其他的：

| 格式控制符                      | 说明                                                         |
| ------------------------------- | ------------------------------------------------------------ |
| %c                              | 输出一个单一的字符                                           |
| %hd、%d、%ld                    | 以十进制、有符号的形式输出 short、int、long 类型的整数       |
| %hu、%u、%lu                    | 以十进制、无符号的形式输出 short、int、long 类型的整数       |
| %ho、%o、%lo                    | 以八进制、不带前缀、无符号的形式输出 short、int、long 类型的整数 |
| %#ho、%#o、%#lo                 | 以八进制、带前缀、无符号的形式输出 short、int、long 类型的整数 |
| %hx、%x、%lx %hX、%X、%lX       | 以十六进制、不带前缀、无符号的形式输出 short、int、long 类型的整数。如果 x 小写，那么输出的十六进制数字也小写；如果 X 大写，那么输出的十六进制数字也大写。 |
| %#hx、%#x、%#lx %#hX、%#X、%#lX | 以十六进制、带前缀、无符号的形式输出 short、int、long 类型的整数。如果 x 小写，那么输出的十六进制数字和前缀都小写；如果 X 大写，那么输出的十六进制数字和前缀都大写。 |
| %f、%lf                         | 以十进制的形式输出 float、double 类型的小数                  |
| %e、%le %E、%lE                 | 以指数的形式输出 float、double 类型的小数。如果 e 小写，那么输出结果中的 e 也小写；如果 E 大写，那么输出结果中的 E 也大写。 |
| %g、%lg %G、%lG                 | 以十进制和指数中较短的形式输出 float、double 类型的小数，并且小数部分的最后不会添加多余的 0。如果 g 小写，那么当以指数形式输出时 e 也小写；如果 G 大写，那么当以指数形式输出时 E 也大写。 |
| %s                              | 输出一个字符串                                               |

例，进行小数的运算：

```c
#include <stdio.h>

int main() {
    double a = 0.5;
    float b = 2.5f;   //注意直接写2.5默认表示的是一个double类型的值，需要再加一个f或是F表示是float类型的值

    printf("a + b的结果是：%f", a + b);   //根据上表得到，小数类型需要使用%f表示，这里可以直接将a + b放入其中
}
```

当然，也可以一次性打印多个，只需要填写多个占位符表示即可：

```c
#include <stdio.h>

int main() {
    double a = 0.5;
    float b = 2.5f;   //整数类型默认是int，如果要表示为long类型的值，也是需要在最后添加一个l或L

    printf("a = %f, b = %f", a, b);   //后面可以一直添加（逗号隔开），但是注意要和前面的占位符对应
}
```

再来看看字符类型：

```c
char c = 'A';   //字符需要使用单引号囊括，且只能有一个字符，不能写成'AA'，这就不是单个字符了
//注意这里的A代表的是A这个字符，对应的ASCII码是65，实际上c存储的是65这个数字
```

也可以通过格式化打印来查看它的值：

```c
#include <stdio.h>

int main() {
    char c = 'A';
    printf("变量c的值为：%c 对应的ASCII码为：%d", c, c);   //这里我们使用%c来以字符形式输出，%d输出的是变量数据的整数形式，其实就是对应的ASCII码
}
```

当然，也可以直接让char存储一个数字（ASCII码），同样也可以打印出对应的字符：

```c
#include <stdio.h>

int main() {
    char c = 66;
    printf("变量c的值为：%c 对应的ASCII码为：%d", c, c);
}
```

对于某些无法表示的字符，比如换行这类字符，没办法直接敲出来，只能使用转义字符进行表示：

```c
char c = '\n';
```

变量除了有初始值之外，也可以在后续的过程中得到新的值：

```c
#include <stdio.h>

int main() {
    short s = 10;
    s = 20;    //重新赋值为20，注意这里就不要再指定类型了，指定类型只有在声明变量时才需要
    printf("%d", s);   //打印结果
}
```

得到的是最后一次对变量修改的结果。

要是不对变量设定初始值，变量不会有默认值：

```c
#include <stdio.h>

int main() {
    int a, b, c, d;
    printf("%d,%d,%d,%d", a, b, c, d);
}
```

虽然定义变量，但是没有为其设定初始值，那么它的值就是不确定的了（并不是不设定值默认就是0）。

再来看一个例子：

```c
#include <stdio.h>

int main() {
    char c = 127;    //已经到达c的最大值了
    c = c + 1;   
    printf("%d", c);    //这时会得到-128
}
```

这是由于位数不够，导致运算结果值溢出：

- 127 + 1= 01111111 + 1
- 由于是二进制，满2进1，所以最后变成
- 10000000 = 补码形式的 -128

所以，了解计算机底层原理是很重要的，能够很轻松地知道为什么会这样。

在运算中，可能也会存在一些一成不变的值，比如`π`的值永远都是`3.1415....`，在程序中，也可以使用这样不可变的变量，称为常量。

定义常量和变量比较类似，但是需要在前面添加一个`const`关键字，表示这是一个常量，常量在一开始设定初始值后，后续是不允许进行修改的。


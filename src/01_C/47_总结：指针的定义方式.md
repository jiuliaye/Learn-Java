### 创建一个指针变量用于保存变量的内存地址：

```c
int main(){
    int a = 10;
  	//指针类型需要与变量的类型相同，且后面需要添加一个*符号,表示是该类型的指针
    int * p = &a;   //这里的&并不是进行按位与运算，而是取地址操作，也就是拿到变量a的地址
    printf("a在内存中的地址为：%p", p);  //地址使用%p表示
    printf("内存%p上存储的值为：%d", p, *p);   //可以在指针变量前添加一个*号（间接运算符，也可以叫做解引用运算符）来获取对应地址存储的值
  
    int * b = NULL;	//空指针定义方式
}
```

### const：

```c
const int * p = &a;		//不允许修改值a
int * const p = &a;   //不允许修改地址p
const int * const p = &a;		//都不允许修改
```

### 指针与数组：

数组变量其实就是一个指针变量，它存放的就是数组中第一个元素的起始地址。

```c
int main(){
    char str[] = "Hello World!";
    char * p = str;   //可以直接把数组作为地址赋值给指针变量p
    printf("%c", *p);   //正常使用，打印出第一个字符
  	printf("%c", p[1]);   //能够像在使用数组一样用指针
  
  	printf("%c", str[0]);   //数组表示法
  	printf("第一个元素值为：%c，第二个元素值为：%c", *p, *(p+1));   //指针表示法
  	//	*(p+i)   <=>    str[i] 
}
```

指针可以进行自增和自减操作，但是数组表示法不可以。

### 多级指针：

```c
int main(){
    int a = 20;
    int * p = &a;   //指向普通变量的指针
    //因为现在要指向一个int *类型的变量，所以类型为int* 再加一个*
    int ** pp = &p;   //指向指针的指针（二级指针）
    int *** ppp = &pp;   //指向指针的指针的指针（三级指针）
    
    //	访问对应地址上的值：
    printf("p = %p, a = %d", *pp, **pp);  //使用一次*表示二级指针指向的指针变量，继续使用一次*会继续解析成指针变量所指的普通变量
}
```

### 指针数组：

```c
int main(){
    int a, b, c;
    int * arr[3] = {&a, &b, &c};   //可以看到，实际上本质还是数组，只不过存的都是地址
  	
  	*arr[0] = 999;	//访问数组中第一个指针指向的值
}
```

### 数组指针：

指向数组的指针

定义规则：

- 数组名（arr）表示的是数组首元素的地址，所以要让指针指向一整个数组，就不能单纯地用arr，而得对arr取地址，&arr表示一整个数组的地址，所以数组指针的右边是&arr。
- 数组指针的左边首先它是个指针，所以但是不能单纯使用`int * p`，因为`int * p`是指向int类型的指针，应该使用`int (*p)[3]`
- 定义完之后，其他的就不用管了，此时`p = &arr`，该怎么取值怎么取值，比如arr的第一个元素为`*(*p+0)`

```c
int main(){
    int arr[3] = {111, 222, 333};
    int (*p)[3] = &arr; 

    printf("%d, %d, %d", *(*p+0), *(*p+1), *(*p+2));   
  	//要获取数组中的每个元素，稍微有点麻烦，*p表示首元素的地址*(*p)表示取值
}
```

### 二维数组指针：

```c
int main() {
    int arr[][4] = {{111, 222, 333,444}, {444, 555, 666,777}};
    int (*p)[4] = arr;  //二维数组不需要再取地址了，因为现在维度提升，数组指针指向的是二维数组中的其中一个元素（因为元素本身就是一个数组）
}
```

获取第二个数组中的最后一个元素：

- p+1表示第二个数组，\*(p+1)表示第二个数组的首元素的地址

```c
printf("%d", *(*(p+1)+3);   
```

当然也可以使用数组表示法：

```c
printf("%d", p[1][3]);   //这就是二维数组的用法，可以认为这两者是同一个东西
```

### 指针函数：

```c
#include <stdio.h>

int * test(int * a){   //函数的返回值类型是int *指针类型的
    return a;
}
```

### 函数指针：

定义一个指针，其指向一个函数

```c
#include <stdio.h>

int sum(int a, int b) {
    return a + b;
}

int main(){
  	//类型 (*指针变量名称)(函数参数...)  //注意一定要把*和指针变量名称括起来，保证优先级
    int (*p)(int, int) = sum;
    printf("%p", p);
   	int result = (*p)(1, 2);   //就像正常使用函数那样，(*p)表示这个函数，后面依然是在小括号里面填上实参
  	int result = p(1, 2);  //当然也可以直接写函数指针变量名称，效果一样（感觉就是给函数换了个名）
    printf("%d", result);
}
```





